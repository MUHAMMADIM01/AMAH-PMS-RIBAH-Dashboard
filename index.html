<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Amah Medicine Store Ribah</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <header class="topbar">
    <div class="logo-row">
      <img src="assets/logo.png" alt="Amah Logo" class="logo" onerror="this.style.display='none'">
      <h1>Amah Medicine Store Ribah</h1>
    </div>
    <nav class="nav">
      <a href="index.html">Home</a>
      <a href="#about">About</a>
      <a href="#services">Services</a>
      <a href="#health">Health Tips</a>
      <a href="login.html">Admin</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <main class="container">
    <section id="hero" class="card">
      <h2>Welcome to Amah Medicine Store</h2>
      <p class="muted">Health & Wellness at Your Doorstep â€” Ribah, Kebbi State</p>
    </section>

    <section id="about" class="card">
      <h2>About Us</h2>
      <p>A licensed pharmaceutical store located in Ribah, Kebbi State, Nigeria. We provide trusted medicines, personal care products, and services with integrity and care.</p>
    </section>

    <section id="services" class="card">
      <h2>Our Services</h2>
      <ul>
        <li>ğŸ’Š Prescription & Over-the-Counter Medicines</li>
        <li>ğŸ’… Health & Beauty Products</li>
        <li>ğŸ©º Medical Consultation</li>
        <li>ğŸšš Home Delivery Services</li>
        <li>ğŸ§  Health Tips</li>
      </ul>
    </section>

    <section id="meds" class="card">
      <h2>Available Medicines</h2>
      <div id="medList" class="grid"></div>
    </section>

    <section id="health" class="card">
      <h2>Health Tips</h2>
      <div id="tipBox" class="tips"></div>
    </section>

    <section id="contact" class="card">
      <h2>Contact Us</h2>
      <p>ğŸ“ Opposite Nemi Naka Ribah, Danko/Wasagu LGA, Kebbi State, Nigeria</p>
      <p>ğŸ’¬ <a href="https://wa.me/2348031577957" target="_blank">WhatsApp</a> â€¢ ğŸ“ <a href="tel:+2347088900047">Call</a></p>
    </section>
  </main>

  <footer class="footer">
    Â© 2025 Amah Medicine Store. All rights reserved.
  </footer>

  <!-- Firebase v9 modular via CDN (we'll use inside module script) -->
  <script type="module">
    // ---- PASTE YOUR FIREBASE CONFIG HERE or use the one below ----
    const firebaseConfig = {
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {

  apiKey: "AIzaSyBqXjy7ogO8qMCsfuYB61yBpZJpKKKGhqk",
  
  authDomain: "amahmedicinestore-be61b.firebaseapp.com",
  
  databaseURL: "https://amahmedicinestore-be61b-default-rtdb.firebaseio.com",
  
  projectId: "amahmedicinestore-be61b",
  
  storageBucket: "amahmedicinestore-be61b.firebasestorage.app",
  
  messagingSenderId: "740301709370",
  
  appId: "1:740301709370:web:9fd66894daa25bd85b1503",
  
  measurementId: "G-NV6KNSM3CV"
};

    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";
    import { getStorage, ref as sref, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-storage.js";

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const storage = getStorage(app);

    // Render medicines (list stored at /medicines)
    const medListEl = document.getElementById('medList');
    function renderMeds(data){
      medListEl.innerHTML = '';
      if(!data) { medListEl.innerHTML = '<p>No medicines yet.</p>'; return; }
      Object.entries(data).forEach(([id, m])=>{
        const card = document.createElement('div');
        card.className = 'card-item';
        const imgUrl = m.photoURL || '';
        const imgTag = imgUrl ? `<img src="${imgUrl}" alt="${m.name}">` : '';
        card.innerHTML = `
          ${imgTag}
          <h3>${m.name}</h3>
          <p class="price">â‚¦${m.price}</p>
          <p>${m.description || ''}</p>
        `;
        medListEl.appendChild(card);
      });
    }

    // Subscribe to /medicines
    const medsRef = ref(db, 'medicines');
    onValue(medsRef, snapshot => {
      renderMeds(snapshot.val());
    });

    // Tips rotator
    const tipsRef = ref(db, 'tips');
    const tipBox = document.getElementById('tipBox');
    let tipsArr = [];
    let tipIndex = 0;
    function rotateTips() {
      if(!tipsArr.length){ tipBox.textContent = 'No tips yet.'; return; }
      tipBox.style.opacity = 0;
      setTimeout(()=>{
        tipBox.innerHTML = `<i>ğŸ’¡ ${tipsArr[tipIndex]}</i>`;
        tipBox.style.opacity = 1;
        tipIndex = (tipIndex + 1) % tipsArr.length;
      }, 250);
    }
    onValue(tipsRef, snap => {
      const v = snap.val() || {};
      tipsArr = Object.values(v).map(x => typeof x === 'string' ? x : x.text).filter(Boolean);
      tipIndex = 0;
      rotateTips();
      setInterval(rotateTips, 4000);
    });

    // Preload images (if stored in storage, your dashboard will save photoURL)
    // done by referring to photoURL already in DB

  </script>
</body>
</html>

